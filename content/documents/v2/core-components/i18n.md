+++
title = "国际化"
toc = true
type = "docs"
draft = false
date = "2018-09-19"
lastmod = "2018-09-20"

[menu.v2]
  parent = "core-components"
  weight = 12
+++

## 概念介绍

1. i18n: internationalization, 国际化的缩写
2. locale: 语言+国家/地区的组合，例如zh-cn, zh-tw, en-uk, en-us, en-gb
3. 国际化: 根据用户的不同，展示用户的当地语言

## 如何使用
1. 配置语言包:  app/bean.php
```
    return [
        // .... 其他配置
        'i18n'  => [
            // 文本资源目录
            'resoucePath' => '@resource/language/',
    
            // 默认 locale
            'defaultLanguage'   => 'en',
    
            // 默认文件名称（文件尾缀不需要）
            'defualtCategory'   => 'default',
        ],
        // .... 其他配置
    ];
```
2. 语言包配置函数
```
    /**
     * @param string $key     文件名+key，eg：msg.sayHello
     * @param array  $params  eg：['name' => '李华']
     * @param string $locale  eg：zh-cn
     *
     * @return string
     */
    public static function t(string $key, array $params, string $locale = ''): string
    {
        $i18n = BeanFactory::getBean('i18n');

        return $i18n->translate($key, $params, $locale);
    }
```

## 使用示例
1. 语言包
```
   // 添加文件：resource/language/en/msg.php
   return [
       'sayhello' => "Wath's up! {name}"
   ];
   
   // 添加文件：resource/language/zh-cn/msg.php
   return [
       'sayhello' => "早上好, {name}"
   ];
```
2. 调用
```
   \Swoft::t('msg.sayhello', ['name' => 'man']);

   \Swoft::t('msg.sayhello', ['name' => '李华'], 'zh-cn');
```
